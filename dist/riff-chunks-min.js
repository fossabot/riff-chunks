/*
 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
(function(a){function k(g){if(h[g])return h[g].a;var f=h[g]={la:g,P:!1,a:{}};a[g].call(f.a,f,f.a,k);f.P=!0;return f.a}var h={};k.ka=a;k.ba=h;k.D=function(a,f){k.F(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:f})};k.ca=function(a){var f=a&&a.$?function(){return a["default"]}:function(){return a};k.D(f,f);return f};k.F=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};k.ia="";return k(k.qa=4)})([function(a,k,h){function g(b,d,c){b[c]=f(b[c],d)}function f(b,d){var e=
b.length+1;2==d?e=8:16==d&&(e=2);return c(b,e)}function l(b,d,c){2==d&&4>b[c].length&&(b[c]=Array(5-b[c].length).join("0")+b[c])}function e(b,d,c){(2==d||16==d)&&2>b[c].length&&(b[c]="0"+b[c])}function c(b,d){for(;b.length<d;)b="0"+b;return b}function d(b,d,c){c=void 0===c?g:c;if(10!=d)for(var e=0,a=b.length;e<a;)b[e]=b[e].toString(d),c(b,d,e),e++}var b=h(8),m=h(1);a.a.o=function(d,c,e){c&&b.N(d,m.h[e])};a.a.aa=d;a.a.R=function(b,c,a){4==c?d(b,a,l):2==c?d(b,a,e):1==c?d(b,a,function(){}):d(b,a)};a.a.X=
function(b){Array.isArray(b)||"string"==typeof b||(b=[b]);return b};a.a.w=function(b,d){b>parseInt(d/2,10)-1&&(b-=d);return b};a.a.J=function(b,d){if(10!=d)for(var c=0,e=b.length;c<e;)b[c]=parseInt(b[c],d),c++};a.a.m=function(b,d){var c=0,e=b.length%d;if(e)for(e=-1*(e-d);c<e;)b.push(0),c++};a.a.padding=g;a.a.sa=l;a.a.ra=e;a.a.I=f;a.a.c=c},function(a){a.a.h={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.a.l={2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656}},
function(a,k,h){function g(c,d){d=void 0===d?!1:d;for(var b="",e=0,a=c.length;e<a;){var l=f.c(c[e].toString(2),8);b=d?b+l:l+b;e++}return b}var f=h(0),l=new Float32Array(1),e=new Int32Array(l.buffer);a.a.ja=g;a.a.L=function(c){c=parseInt(g(c,!0),2);var d=(c&31744)>>10,b=c&1023;return(d?Math.pow(2,d-15)*(1+b/1024):b/1024*.00006103515625)*(c>>15?-1:1)};a.a.M=function(c){if("0,0,0,0,0,0,0,0"==c.toString())return 0;c=g(c);for(var d="1"+c.substr(12,52),b=1,e=0,a=0;a<d.length;)e+=b*parseInt(d.charAt(a),
10),b/=2,a++;return("1"==c.charAt(0)?-1:1)*e*Math.pow(2,parseInt(c.substr(1,11),2)-1023)};a.a.V=function(c){if(0==c)return[0,0];var d=0;0>=c&&(d=2147483648,c=-c);var b=Math.floor(Math.log(c)/Math.log(2)),e=Math.floor(c/Math.pow(2,b)*Math.pow(2,52));c=e&4294967295;e/=Math.pow(2,32);return[d|b+1023<<20|e&1048575,c]};a.a.W=function(c){l[0]=c;var d=e[0];c=d>>16&32768;var b=d>>12&2047;d=d>>23&255;return 103>d?c:(c|d-112<<10|b>>1)+(b&1)}},function(a){function k(a){g[0]=a;return f[0]}var h=new Int8Array(4),
g=new Int32Array(h.buffer,0,1),f=new Float32Array(h.buffer,0,1);a.a=k;a.a.S=k;a.a.Y=function(a){f[0]=a;return g[0]}},function(a,k,h){function g(d,b){(b=void 0===b?!1:b)||(b="RIFX"==d.g);b=c.f(d.g,8,c.char).concat(c.f(d.i,32,{be:b}),c.f(d.format,8,c.char),f(d.U,b));if("RIFF"==d.g||"RIFX"==d.g)b=new Uint8Array(b);return b}function f(d,b){for(var e=[],a=0;a<d.length;)e="LIST"==d[a].g?e.concat(g(d[a],b)):e.concat(c.f(d[a].g,8,c.char),c.f(d[a].i,32,{be:b}),d[a].K),a++;return e}function l(d,b){for(var c=
[],a=12;a<d.length;)c.push(e(d,a,b)),a+=8+c[c.length-1].i;return c}function e(d,b,e){var a={chunkId:c.b(d.slice(b,b+4),8,c.j),chunkSize:c.b(d.slice(b+4,b+8),32,{be:e,single:!0})};"LIST"==a.g?(a.format=c.b(d.slice(8,12),8,c.j),a.U=l(d.slice(b,b+a.i),e)):a.K=d.slice(b+8,b+8+a.i);return a}var c=h(5);window.riffChunks=window.riffChunks||{};window.riffChunks.read=function(d){d=[].slice.call(d);var b=c.b(d.slice(0,4),8,c.j),e="RIFX"==b,a=c.b(d.slice(4,8),32,{be:e,single:!0});return{chunkId:b,chunkSize:a,
format:c.b(d.slice(8,12),8,c.j),subChunks:l(d,e)}};window.riffChunks.write=g},function(a,k,h){k=h(6);var g=h(9),f=h(11);h=h(1);a.a.da=function(a,e){for(var c,d=0;d<a.length;d++)if(c=g.b(a.slice(d,d+e.length),8,{"char":!0}),c==e)return d;return-1};a.a.f=k.f;a.a.b=g.b;a.a.s=f.s;a.a.A=f.A;a.a.u=f.u;a.a.B=f.B;a.a.v=f.v;a.a.C=f.C;a.a.h=h.h;a.a.l=h.l;a.a.ha={"float":!0,single:!0};a.a.pa={signed:!0,single:!0};a.a.Ha={single:!0};a.a.ga={"float":!0,single:!0,be:!0};a.a.oa={signed:!0,single:!0,be:!0};a.a.Ga=
{single:!0,be:!0};a.a.char={"char":!0,single:!0};a.a.fa={"float":!0};a.a.na={signed:!0};a.a.Fa={};a.a.ea={"float":!0,be:!0};a.a.ma={signed:!0,be:!0};a.a.Ea={be:!0};a.a.j={"char":!0}},function(a,k,h){var g=h(7),f=h(0);a.a.f=function(a,e,c){c=void 0===c?{base:10}:c;a=f.X(a);var d=c.char?g.Z:g["write"+e+"Bit"+(c.O?"Float":"")];for(var b=0,l=0,h=a.length,k=[];b<h;)l=d(k,a,b,l),b++;a=k;f.o(a,c.H,e);f.R(a,e,c.G);c.buffer&&(a=new Uint8Array(a));return a}},function(a,k,h){function g(a,c,d,b){a[b++]=c[d]&
255;a[b++]=c[d]>>>8&255;a[b++]=c[d]>>>16&255;a[b++]=c[d]>>>24&255;return b}var f=h(2),l=h(3);a.a.Sa=function(a,c,d,b){c=f.V(c[d]);b=g(a,c,1,b);return g(a,c,0,b)};a.a.Qa=function(a,c,d,b){a[b++]=c[d]&255;a[b++]=c[d]>>8&255;a[b++]=c[d]>>16&255;a[b++]=c[d]>>24&255;a[b++]=c[d]/4294967296&255;a[b++]=c[d]/1099511627776&255;return b};a.a.Pa=function(a,c,d,b){a[b++]=c[d]&255;a[b++]=c[d]>>8&255;a[b++]=c[d]>>16&255;a[b++]=c[d]>>24&255;a[b++]=c[d]/4294967296&255;return b};a.a.Oa=function(a,c,d,b){c=l.Y(c[d]);
a[b++]=c&255;a[b++]=c>>>8&255;a[b++]=c>>>16&255;a[b++]=c>>>24&255;return b};a.a.Na=g;a.a.La=function(a,c,d,b){a[b++]=c[d]&255;a[b++]=c[d]>>>8&255;a[b++]=c[d]>>>16&255;return b};a.a.Ia=function(a,c,d,b){a[b++]=c[d]&255;a[b++]=c[d]>>>8&255;return b};a.a.Ja=function(a,c,d,b){c=f.W(c[d]);a[b++]=c>>>8&255;a[b++]=c&255;return b};a.a.Ta=function(a,c,d,b){a[b++]=c[d]&255;return b};a.a.Ra=function(a,c,d,b){a[b++]=c[d]&15;return b};a.a.Ma=function(a,c,d,b){a[b++]=0>c[d]?c[d]+4:c[d];return b};a.a.Ka=function(a,
c,d,b){a[b++]=c[d]?1:0;return b};a.a.Z=function(a,c,d,b){a[b++]=c.charCodeAt(d);return b}},function(a){a.a.N=function(a,h){for(var g=a.length,f=0;f<g;){for(var l,e=a,c=f,d=0,b=h-1,k=parseInt(h/2,10);d<k;)l=e[c+d],e[c+d]=e[c+b],e[c+b]=l,d++,b--;f+=h}}},function(a,k,h){function g(a,d,b,f){var c=[],g=0,h=0,k=l.h[d],m=a.length-(k-1);d=l.l[d];for(b=b?e.w:function(b){return b};g<m;)c[h]=b(f(a,g),d),g+=k,h++;return c}var f=h(10),l=h(1),e=h(0);a.a.b=function(a,d,b){b=void 0===b?{base:10}:b;e.o(a,b.H,d);e.J(a,
b.G);a=g(a,d,b.w,b.char?f.T:f["read"+(2==d||4==d?8:d)+"Bit"+(b.O?"Float":"")]);b.char&&(a=a.join(""));b.Da&&(a=a[0]);return a}},function(a,k,h){function g(a,b,c){--c;for(var d="";0<=c;)d+=l.I(a[c+b].toString(2),2),c--;return parseInt(d,2)}function f(a,b){return(a[3+b]<<24|a[2+b]<<16|a[1+b]<<8|a[b])>>>0}var l=h(0),e=h(2),c=h(3);a.a.T=function(a,b){return String.fromCharCode(a[b])};a.a.va=function(a,b){return parseInt(a[b],2)};a.a.Ca=function(a,b){return a[b]};a.a.ta=function(a,b){return a[1+b]<<8|
a[b]};a.a.ua=function(a,b){return e.L(a.slice(b,b+2))};a.a.wa=function(a,b){return a[2+b]<<16|a[1+b]<<8|a[b]};a.a.xa=f;a.a.ya=function(a,b){return c.S(f(a,b))};a.a.za=function(a,b){return g(a,b,5)};a.a.Aa=function(a,b){return g(a,b,6)};a.a.Ba=function(a,b){return e.M(a.slice(b,b+8))}},function(a,k,h){var g=h(0);a.a.s=function(a){var f=[],e=0,c=0;g.m(a,8);for(var d=a.length-7;e<d;)f[c++]=parseInt(a[e].toString(2)+a[e+1].toString(2)+a[e+2].toString(2)+a[e+3].toString(2)+a[e+4].toString(2)+a[e+5].toString(2)+
a[e+6].toString(2)+a[e+7].toString(2),2),e+=8;return f};a.a.A=function(a){for(var f=[],e=0,c=0,d=a.length,b;e<d;)b=g.c(a[e].toString(2),8),f[c++]=parseInt(b[0],2),f[c++]=parseInt(b[1],2),f[c++]=parseInt(b[2],2),f[c++]=parseInt(b[3],2),f[c++]=parseInt(b[4],2),f[c++]=parseInt(b[5],2),f[c++]=parseInt(b[6],2),f[c++]=parseInt(b[7],2),e++;return f};a.a.u=function(a){var f=[],e=0,c=0;g.m(a,4);for(var d=a.length-3;e<d;)f[c++]=parseInt(g.c(a[e].toString(2),2)+g.c(a[e+1].toString(2),2)+g.c(a[e+2].toString(2),
2)+g.c(a[e+3].toString(2),2),2),e+=4;return f};a.a.B=function(a){var f=[],e=0,c=0,d=a.length;for(console.log(d);e<d;){var b=g.c(a[e].toString(2),8);f[c++]=parseInt(b[0]+b[1],2);f[c++]=parseInt(b[2]+b[3],2);f[c++]=parseInt(b[4]+b[5],2);f[c++]=parseInt(b[6]+b[7],2);e++}return f};a.a.v=function(a){var f=[],e=0,c=0,d=a.length;for(d%2&&a.push(0);e<d;)f[c++]=parseInt(a[e].toString(16)+a[e+1].toString(16),16),e+=2;return f};a.a.C=function(a){for(var f=[],e=0,c=0,d=a.length;e<d;)f[c++]=parseInt(a[e].toString(16)[0],
16),f[c++]=parseInt(a[e].toString(16)[1],16),e++;return f}}]);
