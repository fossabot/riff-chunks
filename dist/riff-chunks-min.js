/*
 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

 byte-data
 Read and write data to and from byte buffers.
 Copyright (c) 2017-2018 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(b,c);f&&Object.defineProperty(a,c,f)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,f){if(b){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var g=a[f];g in c||(c[g]={});c=c[g]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,c){for(var b=1;b<arguments.length;b++){var g=arguments[b];if(g)for(var e in g)$jscomp.owns(g,e)&&(a[e]=g[e])}return a}},"es6","es3");
(function(a){function b(f){if(c[f])return c[f].exports;var g=c[f]={i:f,l:!1,exports:{}};a[f].call(g.exports,g,g.exports,b);g.l=!0;return g.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,e){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:e})};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};b.p="";return b(b.s=1)})([function(a,b,c){var f=new Float32Array(1),
g=new Int32Array(f.buffer),e=new Float64Array(1),d=new Uint32Array(e.buffer),k=c(4);b=function(a){var h=k.call(this,a)||this;h.char=a["char"];h.float=a["float"];h.buildType_();return h};$jscomp.inherits(b,k);b.prototype.read16F_=function(a,c){a=this.read_(a,c,{bits:16,offset:2});c=(a&31744)>>10;var h=a&1023;return(c?Math.pow(2,c-15)*(1+h/1024):h/1024*.00006103515625)*(a>>15?-1:1)};b.prototype.read32F_=function(a,c){g[0]=this.read_(a,c,{bits:32,offset:4});return f[0]};b.prototype.read64F_=function(a,
c){d[0]=this.read_(a,c,{bits:32,offset:4});d[1]=this.read_(a,c+4,{bits:32,offset:4});return e[0]};b.prototype.readChar_=function(a,c){for(var h="",d=0;d<this.offset;)h+=String.fromCharCode(a[c+d]),d++;return h};b.prototype.write64F_=function(a,c,m){e[0]=c;c={bits:32,offset:4,lastByteMask:255};m=this.write_(a,d[0],m,c);return this.write_(a,d[1],m,c)};b.prototype.write32F_=function(a,c,d,b){f[0]=c;return d=this.write_(a,g[0],d,b)};b.prototype.write16F_=function(a,c,d){f[0]=c;var b=g[0];c=b>>16&32768;
var h=b>>12&2047;b=b>>23&255;103<=b&&(c=(c|b-112<<10|h>>1)+(h&1));a[d++]=c&255;a[d++]=c>>>8&255;return d};b.prototype.writeChar_=function(a,c,d){a[d++]=c.charCodeAt(0);return d};b.prototype.buildType_=function(){this.setReader_();this.setWriter_();this.float&&(this.min=-Infinity,this.max=Infinity)};b.prototype.setReader_=function(){this.float?16==this.bits?this.reader=this.read16F_:32==this.bits?this.reader=this.read32F_:64==this.bits&&(this.reader=this.read64F_):this.char?this.reader=this.readChar_:
32<this.bits&&(this.reader=this.readBits_)};b.prototype.setWriter_=function(){this.float?16==this.bits?this.writer=this.write16F_:32==this.bits?this.writer=this.write32F_:64==this.bits&&(this.writer=this.write64F_):this.char&&(this.writer=this.writeChar_)};a.exports=b},function(a,b,c){function f(a,c){(void 0===c?0:c)||(h.be="RIFX"==a.chunkId);c=k.packArray(a.chunkId,l).concat(k.pack(a.chunkSize,h),k.packArray(a.format,l),g(a.subChunks,h.be));if("RIFF"==a.chunkId||"RIFX"==a.chunkId)c=new Uint8Array(c);
return c}function g(a,c){for(var d=[],b=0;b<a.length;)d="LIST"==a[b].chunkId?d.concat(f(a[b],c)):d.concat(k.packArray(a[b].chunkId,l),k.pack(a[b].chunkSize,h),a[b].chunkData),b++;return d}function e(a){for(var c=[],b=12;b<a.length;)c.push(d(a,b)),b+=8+c[c.length-1].chunkSize;return c}function d(a,c){var b={chunkId:k.unpackArray(a.slice(c,c+4),l),chunkSize:k.unpack(a.slice(c+4,c+8),h)};"LIST"==b.chunkId?(b.format=k.unpackArray(a.slice(8,12),l),b.subChunks=e(a.slice(c,c+b.chunkSize))):b.chunkData=a.slice(c+
8,c+8+b.chunkSize);return b}var k=c(2),h=k.uInt32,l=k.chr;window.riffChunks=window.riffChunks||{};window.riffChunks.read=function(a){a=[].slice.call(a);var c=k.unpackArray(a.slice(0,4),l);h.be="RIFX"==c;return{chunkId:c,chunkSize:k.unpack(a.slice(4,8),h),format:k.unpackArray(a.slice(8,12),l),subChunks:e(a)}};window.riffChunks.write=f},function(a,b,c){function f(a,c,b){b=void 0===b?10:b;var d=[];c.char?d=c.char?a.slice(0,c.realBits/8):a:Array.isArray(a)||(d=[a]);return e.toBytes(d,e.getType(c,b))}
function g(a,c,b){b=void 0===b?10:b;a=e.fromBytes(a.slice(0,8>c.bits?c.bits:c.realBits/8),e.getType(c,b));return a=c.char?a.slice(0,c.bits/8):a[0]}var e=c(3),d=c(0);a.exports.pack=f;a.exports.unpack=g;a.exports.packArray=function(a,c,b){return e.toBytes(a,e.getType(c,void 0===b?10:b))};a.exports.unpackArray=function(a,c,b){return e.fromBytes(a,e.getType(c,void 0===b?10:b))};a.exports.unpackStruct=function(a,c,b){b=void 0===b?10:b;for(var d=a.length,e=0,h=0;h<c.length;h++)e+=c[h].realBits/8;if(d<e)return[];
d=[];for(h=e=0;e<c.length;){var k=8>c[e].bits?1:c[e].realBits/8;d=d.concat(g(a.slice(h,h+k),c[e],b));h+=k;e++}return d};a.exports.packStruct=function(a,c,b){b=void 0===b?10:b;if(a.length<c.length)return[];for(var d=[],e=0;e<c.length;e++)d=d.concat(f(a[e],c[e],b));return d};a.exports.findString=function(a,c){for(var b,e=0;e<a.length;e++)if(b=g(a.slice(e,e+c.length+1),new d({bits:8*c.length,"char":!0})),b==c)return e;return-1};a.exports.Type=d;a.exports.chr=new d({bits:8,"char":!0});a.exports.fourCC=
new d({bits:32,"char":!0});a.exports.bool=new d({bits:1});a.exports.int2=new d({bits:2,signed:!0});a.exports.uInt2=new d({bits:2});a.exports.int4=new d({bits:4,signed:!0});a.exports.uInt4=new d({bits:4});a.exports.int8=new d({bits:8,signed:!0});a.exports.uInt8=new d({bits:8});a.exports.int16=new d({bits:16,signed:!0});a.exports.uInt16=new d({bits:16});a.exports.float16=new d({bits:16,"float":!0});a.exports.int24=new d({bits:24,signed:!0});a.exports.uInt24=new d({bits:24});a.exports.int32=new d({bits:32,
signed:!0});a.exports.uInt32=new d({bits:32});a.exports.float32=new d({bits:32,"float":!0});a.exports.int40=new d({bits:40,signed:!0});a.exports.uInt40=new d({bits:40});a.exports.int48=new d({bits:48,signed:!0});a.exports.uInt48=new d({bits:48});a.exports.float64=new d({bits:64,"float":!0});a.exports.int16BE=new d({bits:16,signed:!0,be:!0});a.exports.uInt16BE=new d({bits:16,be:!0});a.exports.float16BE=new d({bits:16,"float":!0,be:!0});a.exports.int24BE=new d({bits:24,signed:!0,be:!0});a.exports.uInt24BE=
new d({bits:24,be:!0});a.exports.int32BE=new d({bits:32,signed:!0,be:!0});a.exports.uInt32BE=new d({bits:32,be:!0});a.exports.float32BE=new d({bits:32,"float":!0,be:!0});a.exports.int40BE=new d({bits:40,signed:!0,be:!0});a.exports.uInt40BE=new d({bits:40,be:!0});a.exports.int48BE=new d({bits:48,signed:!0,be:!0});a.exports.uInt48BE=new d({bits:48,be:!0});a.exports.float64BE=new d({bits:64,"float":!0,be:!0})},function(a,b,c){var f=c(0),g=c(5);a.exports.getType=function(a,c){a=Object.assign(new f({}),
a);a.base=c;return a};a.exports.toBytes=function(a,c){for(var b=0,d=0,e=a.length,f=[];b<e;)d=c.writer(f,a[b++],d);c.be&&g(f,c.offset);if(10!=c.base){a=c.base;b=0;for(d=f.length;b<d;)f[b]=f[b].toString(a),b++;a=0;b=f.length;for(c=(2==c.base?8:2)+1;a<b;)f[a]=Array(c-f[a].length).join("0")+f[a],a++}return f};a.exports.fromBytes=function(a,c){c.be&&g(a,c.offset);if(10!=c.base)for(var b=c.base,d=0,e=a.length;d<e;)a[d]=parseInt(a[d],b),d++;b=[];d=0;for(e=a.length-(c.offset-1);d<e;)b.push(c.reader(a,d)),
d+=c.offset;c.char&&(b=b.join(""));return b}},function(a,b){b=function(a){this.bits=a.bits;this.be=a.be;this.signed=a.signed;this.base=a.base?a.base:10;this.reader=this.read_;this.writer=this.write_;this.offset=0;this.min=-Infinity;this.max=Infinity;this.realBits=this.bits;this.lastByteMask=255;this.build_()};b.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};b.prototype.overflow=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};b.prototype.read_=function(a,b,
g){var c=0;for(g=(void 0===g?this:g).offset-1;0<g;)c|=a[g+b]<<8*g,g--;c=(a[b]|c)>>>0;return this.overflow(this.sign(c))};b.prototype.readBits_=function(a,b,g){g=void 0===g?this:g;for(var c="",d=0;d<g.offset;){var f=a[b+d].toString(2);c=Array(9-f.length).join("0")+f+c;d++}return this.overflow(this.sign(parseInt(c,2)))};b.prototype.write_=function(a,b,g,e){e=void 0===e?this:e;b=this.overflow(b);var c=255,f=e.offset;g=this.writeFirstByte_(a,b,g,e);for(var h=2;h<=f;h++)h==f&&(c=e.lastByteMask),a[g++]=
Math.floor(b/Math.pow(2,8*(h-1)))&c;return g};b.prototype.build_=function(){this.validateWordSize_();this.setRealBits_();this.setLastByteMask_();this.setMinMax_();this.offset=8>this.bits?1:Math.ceil(this.realBits/8)};b.prototype.setMinMax_=function(){var a=Math.pow(2,this.bits);this.signed?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};b.prototype.validateWordSize_=function(){if(1>this.bits||64<this.bits)throw Error("Not a supported type.");};b.prototype.setRealBits_=function(){this.realBits=
8<this.bits?16>=this.bits?16:24>=this.bits?24:32>=this.bits?32:40>=this.bits?40:48>=this.bits?48:56>=this.bits?56:64:this.bits};b.prototype.setLastByteMask_=function(){var a=8-(this.realBits-this.bits);this.lastByteMask=Math.pow(2,0<a?a:8)-1};b.prototype.writeFirstByte_=function(a,b,g,e){e=void 0===e?this:e;8>e.bits?a[g++]=0>b?b+Math.pow(2,e.bits):b:a[g++]=b&255;return g};a.exports=b},function(a,b){a.exports=function(a,b){for(var c=a.length,e=0;e<c;){for(var d=a,f=e,h=0,l=b-1,m=parseInt(b/2,10);h<
m;){var n=d[f+h];d[f+h]=d[f+l];d[f+l]=n;h++;l--}e+=b}}}]);
