/*
 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var p="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,f){a!=Array.prototype&&a!=Object.prototype&&(a[l]=f.value)},q="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,v=["Object","assign"],w=0;w<v.length-1;w++){var x=v[w];x in q||(q[x]={});q=q[x]}
var y=v[v.length-1],z=q[y],B=z?z:function(a,l){for(var f=1;f<arguments.length;f++){var h=arguments[f];if(h)for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(a[g]=h[g])}return a};B!=z&&null!=B&&p(q,y,{configurable:!0,writable:!0,value:B});
(function(a){function l(h){if(f[h])return f[h].a;var g=f[h]={oa:h,V:!1,a:{}};a[h].call(g.a,g,g.a,l);g.V=!0;return g.a}var f={};l.na=a;l.fa=f;l.N=function(a,g){l.O(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:g})};l.ga=function(a){var g=a&&a.ca?function(){return a["default"]}:function(){return a};l.N(g,g);return g};l.O=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};l.la="";return l(l.xa=4)})([function(a,l,f){function h(b,c,d){b[d]=g(b[d],c)}function g(c,d){var a=
c.length+1;2==d?a=8:16==d&&(a=2);return b(c,a)}function k(b,c,d){2==c&&4>b[d].length&&(b[d]=Array(5-b[d].length).join("0")+b[d])}function e(b,c,d){(2==c||16==c)&&2>b[d].length&&(b[d]="0"+b[d])}function b(b,c){for(;b.length<c;)b="0"+b;return b}function c(b,c,d){d=void 0===d?h:d;if(10!=c)for(var a=0,e=b.length;a<e;)b[a]=b[a].toString(c),d(b,c,a),a++}var d=f(8),m=f(1);a.a.F=function(b,c,a){c&&d(b,m.l[a])};a.a.ea=c;a.a.W=function(b,d,a){4==d?c(b,a,k):2==d?c(b,a,e):1==d?c(b,a,function(){}):c(b,a)};a.a.j=
function(b,c){b>parseInt(c/2,10)-1&&(b-=c);return b};a.a.padding=h;a.a.za=k;a.a.ya=e;a.a.P=g;a.a.c=b;a.a.D=function(b,c){c.h&&16==c.b&&d(b,2)};a.a.C=function(b,c){64==c&&(b.h=!0);b.h&&(b.j=!0);b.b=c}},function(a){a.a.l={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.a.f={1:2,2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656,64:Infinity}},function(a,l,f){function h(b,c){c=void 0===c?!1:c;for(var d="",a=0,e=b.length;a<e;){var k=g.c(b[a].toString(2),8);d=c?d+k:k+
d;a++}return d}var g=f(0),k=new Float32Array(1),e=new Int32Array(k.buffer);a.a.ma=h;a.a.T=function(b){b=parseInt(h(b,!0),2);var c=(b&31744)>>10,d=b&1023;return(c?Math.pow(2,c-15)*(1+d/1024):d/1024*.00006103515625)*(b>>15?-1:1)};a.a.U=function(b){if("0,0,0,0,0,0,0,0"==b.toString())return 0;b=h(b);for(var c="1"+b.substr(12,52),d=1,a=0,e=0;e<c.length;)a+=d*parseInt(c.charAt(e),10),d/=2,e++;return("1"==b.charAt(0)?-1:1)*a*Math.pow(2,parseInt(b.substr(1,11),2)-1023)};a.a.Z=function(b){if(0==b)return[0,
0];var c=0;0>=b&&(c=2147483648,b=-b);var d=Math.floor(Math.log(b)/Math.log(2)),a=Math.floor(b/Math.pow(2,d)*Math.pow(2,52));b=a&4294967295;a/=Math.pow(2,32);return[c|d+1023<<20|a&1048575,b]};a.a.$=function(b){k[0]=b;var c=e[0];b=c>>16&32768;var d=c>>12&2047;c=c>>23&255;return 103>c?b:(b|c-112<<10|d>>1)+(d&1)}},function(a){function l(a){h[0]=a;return g[0]}var f=new Int8Array(4),h=new Int32Array(f.buffer,0,1),g=new Float32Array(f.buffer,0,1);a.a=l;a.a.s=l;a.a.v=function(a){g[0]=a;return h[0]}},function(a,
l,f){function h(a,e){void 0!==e&&e||(c.m="RIFX"==a.g);e=b.B(a.g,d).concat(b.s(a.o,c),b.B(a.format,d),g(a.Y,c.m));if("RIFF"==a.g||"RIFX"==a.g)e=new Uint8Array(e);return e}function g(a,e){for(var k=[],m=0;m<a.length;)k="LIST"==a[m].g?k.concat(h(a[m],e)):k.concat(b.B(a[m].g,d),b.s(a[m].o,c),a[m].S),m++;return k}function k(b){for(var c=[],d=12;d<b.length;)c.push(e(b,d)),d+=8+c[c.length-1].o;return c}function e(a,e){var m={chunkId:b.w(a.slice(e,e+4),d),chunkSize:b.v(a.slice(e+4,e+8),c)};"LIST"==m.g?(m.format=
b.w(a.slice(8,12),d),m.Y=k(a.slice(e,e+m.o))):m.S=a.slice(e+8,e+8+m.o);return m}var b=f(5),c=b.aa,d=b.R;window.riffChunks=window.riffChunks||{};window.riffChunks.read=function(a){a=[].slice.call(a);var e=b.w(a.slice(0,4),d);c.m="RIFX"==e;var m=b.v(a.slice(4,8),c);return{chunkId:e,chunkSize:m,format:b.w(a.slice(8,12),d),subChunks:k(a)}};window.riffChunks.write=h},function(a,l,f){function h(b,c){b=Object.assign({},b);b.A=c;b.J=!0;return b}function g(b){b=Object.assign({},b);b.A=10;b.J=!1;return b}var k=
f(6),e=f(9);l=f(11);f=f(1);a.a.s=function(b,c,d){c=h(c,void 0===d?10:d);b=c.char?b[0]:b;Array.isArray(b)||"string"==typeof b||(b=[b]);return k.u(b,c.b,c)};a.a.v=function(b,c,d){c=h(c,void 0===d?10:d);return e.i(b,c.b,c)};a.a.B=function(b,c){c=g(c);return k.u(b,c.b,c)};a.a.w=function(b,c){c=g(c);return e.i(b,c.b,c)};a.a.R={bits:8,"char":!0,single:!0};a.a.da={bits:1,single:!0};a.a.qa={bits:2,signed:!0,single:!0};a.a.La={bits:2,single:!0};a.a.ta={bits:4,signed:!0,single:!0};a.a.Na={bits:4,single:!0};
a.a.wa={bits:8,signed:!0,single:!0};a.a.Qa={bits:8,single:!0};a.a.pa={bits:16,signed:!0,single:!0};a.a.Ka={bits:16,single:!0};a.a.ia={bits:16,"float":!0,single:!0};a.a.ra={bits:24,signed:!0,single:!0};a.a.Ma={bits:24,single:!0};a.a.sa={bits:32,signed:!0,single:!0};a.a.aa={bits:32,single:!0};a.a.ja={bits:32,"float":!0,single:!0};a.a.ua={bits:40,signed:!0,single:!0};a.a.Oa={bits:40,single:!0};a.a.va={bits:48,signed:!0,single:!0};a.a.Pa={bits:48,single:!0};a.a.ka={bits:64,"float":!0,single:!0};a.a.ha=
function(b,c){for(var d,a=0;a<b.length;a++)if(d=e.i(b.slice(a,a+c.length),8,{"char":!0}),d==c)return a;return-1};a.a.u=k.u;a.a.i=e.i;a.a.G=l.G;a.a.K=l.K;a.a.H=l.H;a.a.L=l.L;a.a.I=l.I;a.a.M=l.M;a.a.l=f.l;a.a.f=f.f},function(a,l,f){var h=f(7),g=f(0),k=f(1);a.a.u=function(a,b,c){c=void 0===c?{base:10,signed:!1}:c;g.C(c,b);var d=c;var e=d.char?h.ba:h["write"+b+"Bit"+(d.h?"Float":"")];var f=0,l=0,C=a.length,A=[],n={};d.j?(n.max=k.f[b]/2-1,n.min=k.f[b]/2*-1):(n.max=k.f[b]-1,n.min=0);for(;f<C;){var r=a,
t=f,u=n;d.h||(r[t]>u.max?r[t]=u.max:r[t]<u.min&&(r[t]=u.min));l=e(A,a,f,l,d.j);f++}a=A;g.F(a,c.m,b);g.W(a,b,c.A);g.D(a,c);c.buffer&&(a=new Uint8Array(a));return a}},function(a,l,f){function h(a,b,c,d){a[d++]=b[c]&255;a[d++]=b[c]>>>8&255;a[d++]=b[c]>>>16&255;a[d++]=b[c]>>>24&255;return d}var g=f(2),k=f(3);a.a.ab=function(a,b,c,d){b=g.Z(b[c]);d=h(a,b,1,d);return h(a,b,0,d)};a.a.Za=function(a,b,c,d){a[d++]=b[c]&255;a[d++]=b[c]>>8&255;a[d++]=b[c]>>16&255;a[d++]=b[c]>>24&255;a[d++]=b[c]/4294967296&255;
a[d++]=b[c]/1099511627776&255;return d};a.a.Ya=function(a,b,c,d){a[d++]=b[c]&255;a[d++]=b[c]>>8&255;a[d++]=b[c]>>16&255;a[d++]=b[c]>>24&255;a[d++]=b[c]/4294967296&255;return d};a.a.Xa=function(a,b,c,d){b=k.v(b[c]);a[d++]=b&255;a[d++]=b>>>8&255;a[d++]=b>>>16&255;a[d++]=b>>>24&255;return d};a.a.Wa=h;a.a.Ua=function(a,b,c,d){a[d++]=b[c]&255;a[d++]=b[c]>>>8&255;a[d++]=b[c]>>>16&255;return d};a.a.Ra=function(a,b,c,d){a[d++]=b[c]&255;a[d++]=b[c]>>>8&255;return d};a.a.Sa=function(a,b,c,d){b=g.$(b[c]);a[d++]=
b>>>8&255;a[d++]=b&255;return d};a.a.bb=function(a,b,c,d){a[d++]=b[c]&255;return d};a.a.$a=function(a,b,c,d){a[d++]=b[c]&15;return d};a.a.Va=function(a,b,c,d){a[d++]=0>b[c]?b[c]+4:b[c];return d};a.a.Ta=function(a,b,c,d){a[d++]=b[c]?1:0;return d};a.a.ba=function(a,b,c,d){a[d++]=b.charCodeAt(c);return d}},function(a){a.a=function(a,f){for(var h=a.length,g=0;g<h;){for(var k=a,e=g,b=0,c=f-1,d=parseInt(f/2,10);b<d;){var m=k[e+b];k[e+b]=k[e+c];k[e+c]=m;b++;c--}g+=f}}},function(a,l,f){function h(a,c,d){var b=
[],f=0,g=0,h=k.l[c.b],l=a.length-(h-1),n=k.f[c.b];for(c=c.j&&!c.h?e.j:function(a){return a};f<l;)b[g]=c(d(a,f),n),f+=h,g++;return b}var g=f(10),k=f(1),e=f(0);a.a.i=function(a,c,d){d=void 0===d?{base:10}:d;e.C(d,c);e.D(a,d);e.F(a,d.m,c);var b=d.A;if(10!=b)for(var k=0,f=a.length;k<f;)a[k]=parseInt(a[k],b),k++;a=h(a,d,d.char?g.X:g["read"+(2==c||4==c?8:c)+"Bit"+(d.h?"Float":"")]);d.char&&(a=a.join(""));d.J&&(a=a[0]);return a}},function(a,l,f){function h(a,b,e){--e;for(var c="";0<=e;)c+=k.P(a[e+b].toString(2),
2),e--;return parseInt(c,2)}function g(a,b){return(a[3+b]<<24|a[2+b]<<16|a[1+b]<<8|a[b])>>>0}var k=f(0),e=f(2),b=f(3);a.a.X=function(a,b){return String.fromCharCode(a[b])};a.a.Ca=function(a,b){return parseInt(a[b],2)};a.a.Ja=function(a,b){return a[b]};a.a.Aa=function(a,b){return a[1+b]<<8|a[b]};a.a.Ba=function(a,b){return e.T(a.slice(b,b+2))};a.a.Da=function(a,b){return a[2+b]<<16|a[1+b]<<8|a[b]};a.a.Ea=g;a.a.Fa=function(a,d){return b.s(g(a,d))};a.a.Ga=function(a,b){return h(a,b,5)};a.a.Ha=function(a,
b){return h(a,b,6)};a.a.Ia=function(a,b){return e.U(a.slice(b,b+8))}},function(a,l,f){function h(a,e){var b=0,c=a.length%e;if(c)for(c=-1*(c-e);b<c;)a.push(0),b++}var g=f(0);a.a.G=function(a){var e=[],b=0,c=0;h(a,8);for(var d=a.length-7;b<d;)e[c++]=parseInt(a[b].toString(2)+a[b+1].toString(2)+a[b+2].toString(2)+a[b+3].toString(2)+a[b+4].toString(2)+a[b+5].toString(2)+a[b+6].toString(2)+a[b+7].toString(2),2),b+=8;return e};a.a.K=function(a){for(var e=[],b=0,c=0,d=a.length,f;b<d;)f=g.c(a[b].toString(2),
8),e[c++]=parseInt(f[0],2),e[c++]=parseInt(f[1],2),e[c++]=parseInt(f[2],2),e[c++]=parseInt(f[3],2),e[c++]=parseInt(f[4],2),e[c++]=parseInt(f[5],2),e[c++]=parseInt(f[6],2),e[c++]=parseInt(f[7],2),b++;return e};a.a.H=function(a){var e=[],b=0,c=0;h(a,4);for(var d=a.length-3;b<d;)e[c++]=parseInt(g.c(a[b].toString(2),2)+g.c(a[b+1].toString(2),2)+g.c(a[b+2].toString(2),2)+g.c(a[b+3].toString(2),2),2),b+=4;return e};a.a.L=function(a){for(var e=[],b=0,c=0,d=a.length,f;b<d;)f=g.c(a[b].toString(2),8),e[c++]=
parseInt(f[0]+f[1],2),e[c++]=parseInt(f[2]+f[3],2),e[c++]=parseInt(f[4]+f[5],2),e[c++]=parseInt(f[6]+f[7],2),b++;return e};a.a.I=function(a){var e=[],b=0,c=0,d=a.length;for(d%2&&a.push(0);b<d;)e[c++]=parseInt(a[b].toString(16)+a[b+1].toString(16),16),b+=2;return e};a.a.M=function(a){for(var e=[],b=0,c=0,d=a.length;b<d;)e[c++]=parseInt(a[b].toString(16)[0],16),e[c++]=parseInt(a[b].toString(16)[1],16),b++;return e}}]);
